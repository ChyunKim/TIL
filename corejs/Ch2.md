# 실행 컨텍스트
**실행 컨텍스트는 실행할 코드에 제공할 환경 정보들을 모아놓은 객체** 입니다.
>  자바스크립트는 코드를 실행하기 위해서 코드를 일종의 블록으로 나눕니다. 그 코드 블록에 있는 ```변수, 함수, this, arguments``` 등에 대한 정보를 담고 있는 하나의 환경을 실행 컨텍스트라 부릅니다.
즉, 실행 가능한 자바스크립트의 코드 블록 으로 정리할 수 있습니다 

모든 자바스크립트 코드는 실행 컨텍스트 내부에서 실행된다고 생각하면 됩니다.

자바스크립트는 어떠한 실행 컨텍스트가 활성화되는 시점에 호이스팅, scope, this, closure 등 동작을 수행합니다.

이러한 동작들은 자바스크립트의 동적 언어로서의 성격을 가장 잘 파악할 수 있는 개념입니다.

### 실행 컨텍스트를 구성할 수 있는 방법
- 전역공간 (Global Execution Context) - 최상위
- eval() 함수 - 문자열을 받아 자바스크립트 코드로 인식하는 함수
- 함수

실행 컨텍스트는 다음과 같은 것들을 이용하면 콜스택(call stack)에 쌓이게 됩니다.

일반적으로 함수를 이용한 실행 컨텍스트를 사용합니다.
(자동으로 생성되는 전역공간, 'eval() is evil' 악마로 취급받는 eval 함수 제외)

### 실행 컨텍스트 실행과정 
함수가 실행되면 함수 실행에 해당하는 실행 컨텍스트가 생성되고, 자바스크립트 엔진에 있는 콜 스택에 차곡차곡 쌓입니다.

가장 위에 쌓여있는 컨텍스트와 관련 있는 코드를 실행하면서(LIFO), 전체 코드의 환경과 순서를 보장하게 됩니다.

아래와 같이 코드를 구성했을 때 실행 컨텍스트의 스택은 다음과 같은 순서로 실행됩니다.

```javascript
var a = 1; 				// 전역 컨텍스트
function outer () {			// outer 컨텍스트
  function inner () {			// inner 컨텍스트
    console.log(a); 			// undefined
    var a = 3;
    console.log(a); 			// 3
  }
  inner();
  console.log(a); 			// 1
}
outer();
console.log(a); 			// 1
```
(1). 프로그램 실행: ```전역컨텍스트```
(2). outer 실행: ```전역컨텍스트, outer```
(3). inner 실행: ```전역컨텍스트, outer, inner```
(4). inner 종료: ```전역컨텍스트, outer```
(5). outer 종료: ```전역컨텍스트```

이렇게 어떤 실행 컨텍스트가 활성화될 때 자바스크립트 엔진은 해당 컨텍스트에 관련된 코드들을 실행하는 데 필요한 환경 정보들을 수집해서 실행 컨텍스트 객체에 저장합니다. 

### 실행컨텍스트 담기는 정보
- **VariableEnvironment**: 현재 컨텍스트 내의 식별자(변수)들에 대한 정보 + 외부 환경 정보
선언 시점의 LexicalEnvironment의 스냅샷(변경사항 반영 X)
- **LexicalEnvironment** : 처음에는 VariableEnvironment와 같지만
변경 사항이 실시간으로 반영
- **ThisBinding** : 식별자가 바라봐야 할 대상 객체


## LexicalEnvironment

VariableEnvironment (V.E)과 LexicalEnvironment(L.E) 차이는 변경 사항의 반영 여부에 있습니다. **변수환경은 변경 사항이 반영이 되지 않지만 렉시컬환경은 변경사항을 반영을 합니다.**

이 두가지 환경에는 환경 레코드와, 외부 환경 참조라는 개념이 있습니다.






